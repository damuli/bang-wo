<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‡ºç£è¯èªå¤§å†’éšªï¼šå¹«æˆ‘åµæ¢</title>
    <style>
        body {
            font-family: "Microsoft JhengHei", Arial, sans-serif;
            background-color: #f0f4f8;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .game-container {
            background-color: white;
            width: 600px;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            text-align: center;
            border: 2px solid #4a90e2;
        }
        .scene-badge {
            background-color: #ff9f43;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 15px;
        }
        .character-img {
            font-size: 80px;
            margin: 10px 0;
            display: block;
        }
        .dialogue-box {
            background-color: #eef2f5;
            padding: 20px;
            border-radius: 10px;
            font-size: 1.2em;
            color: #333;
            margin-bottom: 25px;
            line-height: 1.5;
            border-left: 5px solid #4a90e2;
        }
        .keyword {
            color: #e74c3c;
            font-weight: bold;
            font-size: 1.1em;
        }
        .btn-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        button {
            background-color: #4a90e2;
            color: white;
            border: none;
            padding: 15px;
            font-size: 1.1em;
            border-radius: 8px;
            cursor: pointer;
            transition: 0.2s;
        }
        button:hover {
            background-color: #357abd;
        }
        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }
        .correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .wrong {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .next-btn {
            background-color: #2ecc71;
            margin-top: 15px;
            display: none;
        }
    </style>
</head>
<body>

<div class="game-container">
    <div id="game-screen">
        <div class="scene-badge" id="scene-text">å ´æ™¯ï¼šé£²æ–™åº—</div>
        <div class="character-img" id="char-emoji">ğŸ¥¤</div>
        <h3><span id="char-name">åº—å“¡</span> å°ä½ èªªï¼š</h3>
        
        <div class="dialogue-box">
            ã€Œé£²æ–™å¥½å›‰ï¼å–ä¹‹å‰å†<span class="keyword">å¹«æˆ‘</span>æ–ä¸€ä¸‹å–”ï¼ã€
        </div>

        <div class="btn-group" id="choices">
            <button onclick="checkAnswer(1)">A. æˆ‘è¦æŠŠé£²æ–™æ‹¿çµ¦åº—å“¡ï¼Œå¹«ä»–æ–ä¸€æ–</button>
            <button onclick="checkAnswer(2)">B. æˆ‘æ‹¿è‘—è‡ªå·±çš„é£²æ–™ï¼Œæˆ‘è‡ªå·±æ–ä¸€æ–</button>
        </div>

        <div id="feedback-area" class="feedback"></div>
        <button id="next-btn" class="next-btn" onclick="nextLevel()">ä¸‹ä¸€é¡Œ âœ</button>
    </div>

    <div id="end-screen" style="display: none;">
        <h2>ğŸ‰ éŠæˆ²çµæŸï¼</h2>
        <p>ä½ å·²ç¶“å­¸æœƒåˆ†è¾¨è‡ºç£è¯èªçš„ã€Œæ–°å¼å¹«æˆ‘ã€äº†ï¼</p>
        <p id="final-score" style="font-size: 1.5em; font-weight: bold; color: #4a90e2;"></p>
        <button onclick="location.reload()">å†ç©ä¸€æ¬¡</button>
    </div>
</div>

<script>
    // é¡Œç›®è³‡æ–™åº« - æ ¹æ“šè«–æ–‡çœŸå¯¦èªæ–™æ”¹ç·¨
    const questions = [
        {
            scene: "é£²æ–™åº— (Beverage Shop)",
            role: "åº—å“¡ (Clerk)",
            emoji: "ğŸ¥¤",
            text: "é£²æ–™å¥½å›‰ï¼å–ä¹‹å‰å†<span class='keyword'>å¹«æˆ‘</span>æ–ä¸€ä¸‹å–”ï¼",
            options: [
                "A. æˆ‘æŠŠé£²æ–™æ‹¿çµ¦åº—å“¡ï¼Œå¹«åº—å“¡æ– (I shake it for the clerk)",
                "B. æˆ‘æ‹¿è‘—è‡ªå·±çš„é£²æ–™ï¼Œæˆ‘è‡ªå·±æ– (I shake my own drink)"
            ],
            correctIndex: 1, // B is correct (0 is A, 1 is B)
            explanation: "âœ… æ­£ç¢ºï¼é€™æ˜¯æ–°å¼ç”¨æ³•ã€‚åº—å“¡ä¸¦æ²’æœ‰è¦ä½ å¹«å¿™ï¼Œé€™åªæ˜¯ä¸€å€‹å®¢æ°£çš„æŒ‡ä»¤ï¼Œè¦ä½ è‡ªå·±æ–è‡ªå·±çš„é£²æ–™ [cite: 57]ã€‚"
        },
        {
            scene: "å®¶è£¡çš„å®¢å»³ (Living Room)",
            role: "å—å‚·çš„å…’å­ (Injured Son)",
            emoji: "ğŸ¤•",
            text: "åª½ï¼Œæˆ‘çš„è…³å¥½ç—›ï¼Œè«‹<span class='keyword'>å¹«æˆ‘</span>è„«ä¸€ä¸‹è¥ªå­ã€‚",
            options: [
                "A. åª½åª½å¹«å…’å­è„«è¥ªå­ (Mom takes off son's socks)",
                "B. åª½åª½è„«æ‰è‡ªå·±çš„è¥ªå­ (Mom takes off her own socks)"
            ],
            correctIndex: 0,
            explanation: "âœ… ç­”å°äº†ï¼é€™æ˜¯å‚³çµ±ç”¨æ³•ã€‚å…’å­å—å‚·äº†ï¼Œæ˜¯çœŸçš„è«‹æ±‚å”åŠ©ï¼Œå—ç›Šè€…æ˜¯èªªè©±è€…(å…’å­) ã€‚"
        },
        {
            scene: "è¨ºæ‰€/å¥èº«æˆ¿ (Clinic/Gym)",
            role: "è­·ç†å¸«/æœå‹™å“¡ (Staff)",
            emoji: "ğŸ‘©â€âš•ï¸",
            text: "æˆ‘å€‘è¦é‡é«”è„‚å›‰ï¼Œè«‹<span class='keyword'>å¹«æˆ‘</span>è„«ä¸€ä¸‹è¥ªå­ã€‚",
            options: [
                "A. æˆ‘è¦å¹«è­·ç†å¸«è„«è¥ªå­ (I take off the nurse's socks)",
                "B. æˆ‘è¦è„«æ‰æˆ‘è‡ªå·±çš„è¥ªå­ (I take off my own socks)"
            ],
            correctIndex: 1,
            explanation: "âœ… æ­£ç¢ºï¼é›–ç„¶å¥å­ä¸€æ¨£ï¼Œä½†åœ¨æœå‹™æ¥­æƒ…å¢ƒä¸‹ï¼Œé€™æ˜¯è«‹ä½ è‡ªå·±è„«æ‰è‡ªå·±çš„è¥ªå­ä¾†é…åˆæª¢æŸ¥ï¼Œæ˜¯ä¸€ç¨®ç¦®è²Œç­–ç•¥ [cite: 7, 82]ã€‚"
        },
        {
            scene: "é¤å»³ (Restaurant)",
            role: "å¸¶ä½å“¡ (Waiter)",
            emoji: "ğŸ½ï¸",
            text: "å…©ä½å—ï¼Ÿå‰é¢è«‹<span class='keyword'>å¹«æˆ‘</span>ååœ¨ç¬¬ä¸‰æ¡Œå–”ã€‚",
            options: [
                "A. æˆ‘èµ°åˆ°ç¬¬ä¸‰æ¡Œåä¸‹ä¾† (I go sit at table 3)",
                "B. æˆ‘æŠŠæœå‹™ç”ŸæŠ±åˆ°ç¬¬ä¸‰æ¡Œ (I carry the waiter to table 3)"
            ],
            correctIndex: 0,
            explanation: "âœ… æ²’éŒ¯ï¼é€™ä¸éœ€è¦å¹«æœå‹™ç”Ÿåã€‚é€™æ˜¯ç‚ºäº†ç·©å’Œå‘½ä»¤èªæ°£ï¼Œè®“ä½ æ„Ÿè¦ºä¸æ˜¯è¢«å‘½ä»¤ï¼Œè€Œæ˜¯åˆä½œ [cite: 6, 76]ã€‚"
        },
        {
            scene: "çµå¸³æ«ƒæª¯ (Cashier)",
            role: "åº—å“¡ (Clerk)",
            emoji: "ğŸ“±",
            text: "æ‚¨å¥½ï¼Œé€™è£¡æœ‰ä¸€å€‹ QR Codeï¼Œ<span class='keyword'>å¹«æˆ‘</span>æƒç¢¼é»é¤å–”ã€‚",
            options: [
                "A. æˆ‘æ‹¿å‡ºæ‰‹æ©Ÿæƒæ (I scan with my phone)",
                "B. æˆ‘æ‹¿åº—å“¡çš„æ‰‹æ©Ÿå¹«ä»–æƒ (I scan with clerk's phone)"
            ],
            correctIndex: 0,
            explanation: "âœ… æ­£ç¢ºï¼é€™æ˜¯ã€Œæœå‹™æµç¨‹æŒ‡ä»¤å‹ã€ã€‚è¡Œç‚ºç”±ä½ åŸ·è¡Œï¼Œç›®çš„æ˜¯è®“é»é¤æµç¨‹é †åˆ©é€²è¡Œ [cite: 61]ã€‚"
        }
    ];

    let currentQ = 0;
    let score = 0;

    function loadQuestion() {
        const q = questions[currentQ];
        document.getElementById("scene-text").innerText = "å ´æ™¯ï¼š" + q.scene;
        document.getElementById("char-name").innerText = q.role;
        document.getElementById("char-emoji").innerText = q.emoji;
        document.querySelector(".dialogue-box").innerHTML = "ã€Œ" + q.text + "ã€";
        
        const buttons = document.querySelectorAll("#choices button");
        buttons[0].innerText = q.options[0];
        buttons[1].innerText = q.options[1];
        
        // Reset styles
        buttons.forEach(btn => {
            btn.disabled = false;
            btn.style.opacity = "1";
            btn.style.backgroundColor = "#4a90e2";
        });
        document.getElementById("feedback-area").style.display = "none";
        document.getElementById("next-btn").style.display = "none";
    }

    function checkAnswer(choice) {
        const q = questions[currentQ];
        const buttons = document.querySelectorAll("#choices button");
        const feedback = document.getElementById("feedback-area");
        
        // Check logic (choice 1 = index 0, choice 2 = index 1)
        const isCorrect = (choice - 1) === q.correctIndex;

        buttons.forEach(btn => btn.disabled = true); // Disable buttons

        feedback.style.display = "block";
        document.getElementById("next-btn").style.display = "block";

        if (isCorrect) {
            score++;
            feedback.className = "feedback correct";
            feedback.innerText = q.explanation;
        } else {
            feedback.className = "feedback wrong";
            // Custom wrong message based on context
            if(q.correctIndex === 1) { // If answer should be self-action (New Style)
                feedback.innerText = "âŒ å“å‘€ï¼åœ¨é€™å€‹æƒ…å¢ƒä¸‹ï¼Œåº—å“¡ä¸æ˜¯çœŸçš„è¦ä½ å¹«å¿™ä»–åšäº‹ï¼Œè€Œæ˜¯å®¢æ°£åœ°è«‹ä½ è‡ªå·±åšå–”ï¼[cite: 59]";
            } else { // If answer should be helping (Traditional)
                feedback.innerText = "âŒ ä¸å°å–”ï¼é€™è£¡æ˜¯å‚³çµ±ç”¨æ³•ï¼Œå®¶äººå—å‚·äº†æ˜¯çœŸçš„éœ€è¦ä½ çš„å¹«åŠ©ï¼";
            }
        }
    }

    function nextLevel() {
        currentQ++;
        if (currentQ < questions.length) {
            loadQuestion();
        } else {
            showEndScreen();
        }
    }

    function showEndScreen() {
        document.getElementById("game-screen").style.display = "none";
        document.getElementById("end-screen").style.display = "block";
        document.getElementById("final-score").innerText = "ä½ çš„å¾—åˆ†ï¼š " + score + " / " + questions.length;
    }

    // Start the game
    loadQuestion();

</script>

</body>
</html>
